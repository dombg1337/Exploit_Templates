import requests
import sys

def uploadFile(session):
    print("(+) Upload file to target")
    url = 'http://foo.bar/upload'
    files = {'fileParamNameInRequest': ('fileNameForTarget.zip', open('poc.zip','rb'), 'application/zip')}
    data = {
        'submit_import':'Import' # add additional form data
    }

    r = session.post(url,files=files,data=data)
    print(r.status_code)
    
session = requests.Session() 
proxies = { 'http':'http://127.0.0.1:8080' }
session.proxies.update(proxies)

uploadFile(session) # pass authenticated session instead if required
